!function(o){o(document).ready(function(){function a(a){var e={action:"WPF_post_thumb",security:WPF_ajax_data.nonce,data:{thumb:a,postID:WPF_ajax_data.postID}};o.post(WPF_ajax_data.ajaxUrl,e,function(a){})}o(".wpf-up").on("click",function(){o(".feedback-choice-wrapper").remove(),o(".feedback-form-container").remove(),o(".feedback-after-submit").show(),a("up")}),o(".wpf-down").on("click",function(){o(".feedback-choice-wrapper").remove(),o(".feedback-container .feedback-form-container").show(),a("down")}),WPF_ajax_data.recaptcha&&o(".feedback-submit").prop("disabled",!0),o("#wpf-feedback-name, #wpf-feedback-email, #wpf-feedback-content").on("input",function(){o(this).is(":invalid")?o(this).addClass("error"):o(this).removeClass("error")}),o(".feedback-submit").on("click",function(a){if(a.preventDefault(),!o(".feedback-form-container form")[0].checkValidity())return o("#wpf-feedback-content").is(":invalid")&&o("#wpf-feedback-content").addClass("error"),void(1==WPF_ajax_data.userDetails&&(o("#wpf-feedback-name").is(":invalid")&&o("#wpf-feedback-name").addClass("error"),o("#wpf-feedback-email").is(":invalid")&&o("#wpf-feedback-email").addClass("error")));var e={content:o("#wpf-feedback-content").val(),postID:WPF_ajax_data.postID};if(1==WPF_ajax_data.recaptcha&&void 0!==grecaptcha&&(e["g-recaptcha-response"]=grecaptcha.getResponse()),1==WPF_ajax_data.userDetails){var c=o('input[name="wpf-feedback-name"]').val(),t=o('input[name="wpf-feedback-email"]').val();e.name=c,e.mail=t}var n={action:"WPF_save_feedback",security:WPF_ajax_data.nonce,data:e};o(".feedback-form-container").remove(),o(".feedback-after-submit").show(),o.post(WPF_ajax_data.ajaxUrl,n,function(a){})})}),window.wpfRecaptchaCallback=function(){jQuery(".feedback-submit").prop("disabled",!1)}}(jQuery);